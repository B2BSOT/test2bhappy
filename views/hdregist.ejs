<!DOCTYPE html>
<html>
<head>
  
<title>happy app</title>
<script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
<link rel="stylesheet" type="text/css" href="/dist/semantic.min.css">
<script src="/dist/semantic.min.js"></script>
<link rel='stylesheet' href='/stylesheets/style.css'/>

<link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/>
<link href="https://cdn.rawgit.com/mdehoog/Semantic-UI/6e6d051d47b598ebab05857545f242caf2b4b48c/dist/semantic.min.css" rel="stylesheet" type="text/css"/>

<script src="https://code.jquery.com/jquery-2.1.4.js"></script>
<script src="https://cdn.rawgit.com/mdehoog/Semantic-UI/6e6d051d47b598ebab05857545f242caf2b4b48c/dist/semantic.min.js"></script>
<!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script> -->
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">



<script type="text/javascript">

var date1 ='';
var date2 ='';

function modalClose(){
  alert(date1+date2);
  $('.ui.modal').modal('hide');
};

function Happdaygetdata() {
    // alert("aa");
    var happyday_id = 23;
    $.ajax({
	     type: "post",
	     url : "/Happdaygetdata_KJY",
	     data: 
	     {
         happyID : happyday_id
         
	     },
        success:function(data){   
          // alert(data.datas.category_code);
        	$("#happyday_name_show").val(data.datas.happyday_name);
        	$("#happyday_category_show").append(data.datas.category_code);   
          $("#img_url_show").val(data.datas.img_url);
          $("#place_name_show").val(data.datas.place_name);
          $("#place_name_show").val(data.datas.place_name);
          $("#place_name_show").val(data.datas.place_name);
          $("#place_name_show").val(data.datas.place_name);
          
          
          

        },
        error:function(e){  
            alert(e.responseText);  
        }  
     	});   
    }


  
var val;
$(document).ready(function() {
  /* 정합성 체크 */
  $('.ui.segment.form').form
  ({
    fields: 
    {
      happyday_name: 
      {
        identifier: 'happyday_name',
        rules: 
        [{
          type   : 'empty',
          prompt : 'Please enter your name'
        }]
      },
      category_code: 
      {
        identifier: 'category_code',
        rules: 
        [{
          type   : 'empty',
          prompt : 'Please select category'
        }]
      },
      img_url: 
      {
        identifier: 'img_url',
        rules: 
        [{
          type   : 'empty',
          prompt : 'Please enter img_url'
        }]
      },
      place_name: 
      {
        identifier: 'place_name',
        rules: 
        [{
          type   : 'empty',
          prompt : 'Please enter place_name'
        }]
      },
      req_point: 
      {
        identifier: 'req_point',
        rules: 
        [{
          type   : 'empty',
          prompt : 'Please enter req_point'
        }]
      },
      happyday_contents: 
      {
        identifier: 'happyday_contents',
        rules: 
        [{
          type   : 'empty',
          prompt : 'Please enter happyday_contents'
        }]
      }
    }
  });  

    $("#HappyDayRegist").click(function(){
      // alert("bbb");
      $('.ui.modal.Regist').modal('show');
  });
  
     $("#HappyDayUpdate").click(function(){
      $('.ui.modal.Update').modal('show');
  });
  
  // 카테고리
  // $('.ui.dropdown').dropdown({
  //   apiSettings: {
  //     url: 'api/projectSearch/GetUnitType'
  //   },
  //   maxSelections: 1,
  //   // localSearch: true,
  //   // saveRemoteData: false,
  //   // debug: true,
  //   // ftSearch: true
    
  //   localSearch: true,
  //   saveRemoteData: false,
  //   debug: true,
  //   ftSearch: true
    
  // });
    
//TODO : 하나 선택하고 아래가 다 보이게    
$('.ui.dropdown').dropdown({
   maxSelections: 1
});
 
  // 출발 날짜 & 시간
  $('#hddate').calendar({
  type: 'datetime',
    formatter: {
    },
    text: {
      months: ['01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12'],
      monthsShort: ['01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12'],
      today: 'Today',
      now: 'Now'
    },
     ampm: false
 
  });
  
  // START DATE 됐어 수정까지
  $("[name=example2]").calendar({
    type: 'date',
    formatter: {
      date: function (date, settings) {
        if (!date) return '';
        var year = date.getFullYear();
        var month = (date.getMonth() + 1).toString();
        month = month.length > 1 ? month : '0' + month;
        var day = date.getDate().toString();
        day = day.length > 1 ? day : '0' + day;
        var fullDate = year + month + day;
        date1 = fullDate;
        return fullDate;
        
      }
    }
  });
  
  // 마감일
  $('#dday_dt').calendar({
    type: 'date',
    formatter: {
      date: function (date, settings) {
        if (!date) return '';
        var year = date.getFullYear();
        var month = (date.getMonth() + 1).toString();
        month = month.length > 1 ? month : '0' + month;
        var day = date.getDate().toString();
        day = day.length > 1 ? day : '0' + day;
        var fullDate = year + month + day;
        
        return fullDate;
        
      }
      }
  });
  
  // START TIME
   $('#example3').calendar({
    type: 'time',
    formatter: {
      time: function (date, settings, forCalendar) {
        if (!date) return '';
        var hour = date.getHours().toString();
        hour = hour.length > 1 ? hour : '0' + hour;
        var minute = date.getMinutes().toString();
        minute = minute.length > 1 ? minute : '0' + minute;
        var time = hour + minute; //DB
        //return time;]\
        date2 = time;
        return hour + ':' + minute;
      }
    }
  });
  

  $('.recent_post_header').click('button' , function(evt){ 
     
    var $but = $(evt.target); 
    var id = $but.attr('id'); 
 
   if($but) {
     $but.css('background-color', 'red');
   }
   else {
     $(this).css('background-color', 'yellow');
   }
  
     
  }); 
  
});


</script>

</head>
<body>
<div>
	<button class="ui inverted red button" id='HappyDayRegist'>등록 </button>
	<button class="ui inverted red button" id='HappyDayUpdate' onclick=javascript:Happdaygetdata()>수정 </button>
</div>
<div class="ui modal Regist">
<!--<div class='field'> 
  <button id='54' class="recent_post_header">button 54</button>   
  <button id='52' class="recent_post_header">button 52</button>   
  <button id='50' class="recent_post_header">button 50</button>   
</div> -->
<form class="ui segment form" action="/happyday_regist" method="post">
  <h3 class="ui left floated header">HappyDay Regist Page</h3>
  <div class="ui clearing divider"></div>
	<div class="content">
	  <div class="field">
  	  <div class="ui sub header">해피데이 이름</div>
  			<input type="text" placeholder="<%= data.user_name %>님 입력해주세요." id="happyday_name" name="happyday_name">
  	</div> 
  
	  <div class="field">
      <div class="ui sub header">카테고리</div>
      <div class="ui fluid multiple search selection dropdown">
        <input name="category_code" type="hidden" value="">
        <i class="dropdown icon"></i>
      <div class="default text">Skills</div>
      <div class="menu">
        <div class="item" data-value="1">스포츠</div>
        <div class="item" data-value="2">관람</div>
        <div class="item" data-value="3">영화</div>
        <div class="item" data-value="4">야외활동</div>
        <div class="item" data-value="5">실내활동</div>
        <div class="item" data-value="6">투어</div>
        <div class="item" data-value="7">체험</div>
      </div>
      </div><!-- multiple search selection dropdown -->
    </div>
    
    
    <div class="field">
      <div class="ui sub header">이미지 링크</div>
      <div class="ui labeled input">
        <div class="ui label">
          http://
        </div>
        <input type="text" placeholder="mysite.com" name="img_url" id>
      </div>
    </div>
   
    <div class="field">
      <div class="ui sub header">장소</div>	
    	<div class="ui right labeled left icon action input"><!-- action?? -->
    		<i class="marker icon"></i>
    		<input type="text" placeholder="Search the location" id="location" name="place_name">
    		<!--<i class="inverted circular search link icon"></i>-->
    		<div class="ui label"><i class="search icon"></i></div>
      </div><!-- location -->
    </div>
  
    <div class="ui two column grid">
    <div class="column">
      <div class="ui sub header">Start Date</div>
      <div class="ui calendar" name="example2">
        <div class="ui input left icon" style=" width: 100%;"> 
          <i class="calendar icon"></i>
          <input type="text" placeholder="Check the calendar" style=" width: 100%;" name="happyday_dt">
        </div>
      </div><!-- calendar -->
    </div>
    <div class="column">
      <div class="ui sub header">Start Time</div>
      <div class="ui calendar" id="example3">
        <div class="ui input left icon" style=" width: 100%;">
          <i class="time icon"></i>
          <input type="text" placeholder="Time" style=" width: 100%;" name="happyday_time">
        </div>
      </div> 
    </div>
    </div><!-- ui two column grid -->
    
    <div class="ui two column grid">
    <div class="column">
      <div class="ui sub header">출발 날짜 & 시간</div>
      <div class="ui calendar" id="hddate">
        <div class="ui input left icon" style=" width: 100%;"> 
          <i class="calendar icon"></i>
          <input type="text" placeholder="Check the calendar" style=" width: 100%;" name="happyday_dt">
        </div>
      </div><!-- calendar -->
    </div>
    <div class="column">
      <div class="ui sub header">마감일</div>
      <div class="ui calendar" id="dday_dt">
        <div class="ui input left icon" style=" width: 100%;">
          <i class="calendar icon"></i>
          <input type="text" placeholder="Date" style=" width: 100%;" name="dday_dt">
        </div>
      </div>
    </div>
    </div><!-- ui two column grid -->
  
    <div class="ui two column grid">
      <div class="column">
        <div class="ui sub header">멤버수</div>
        <div style=" width: 100%;">
        <button class="circular ui icon button" id="a" value="5">
            05
        </button>
        <button class="circular ui icon button" id="a" value="6">
            06
        </button>
        <button class="circular ui icon button" id="a" value="7">
            07
        </button>
        <button class="circular ui icon button" id="a" value="8">
            08
        </button>
        <button class="circular ui icon button" id="a" value="9">
            09
        </button>
        </div>
      </div>
      <div class="column">
        <div class="ui pagination menu">
          <a class="item">
            01
          </a>
          <div class="disabled item">
            05
          </div>
          <a class="item">
            10
          </a>
          <a class="item">
            11
          </a>
          <a class="item active">
            12
          </a>
        </div><!--ui pagination menu-->
      </div>
    </div><!-- two columns -->
    
    <div class="field">
    	<div class="ui sub header">차감포인트</div>	
      <div class="ui left icon input" style=" width: 100%;">
      	<input type="text" placeholder="2500" style=" width: 100%;" name="req_point">
      	<i class="won icon"></i>
      </div><!-- point -->
    </div>
  
    <div class="field">
  	  <div class="ui sub header">해피데이 설명</div>	
  		<textarea style="width:100% ;height: 200px;" name="happyday_contents"></textarea>
    </div>
    <div class="ui error message"></div>
  </div><!-- content -->

  <div class="ui clearing divider"></div>
  <div class="actions">
    <div class="ui button" onClick=javascript:modalClose()>cancel</div>
    <button class="ui yellow submit button" id="submit" name="submit"> </button>
  </div><!-- actions -->
</form>  

</div><!-- modal -->

















<!--수정모달-->
<div class="ui modal Update">
<!--<div class='field'> 
  <button id='54' class="recent_post_header">button 54</button>   
  <button id='52' class="recent_post_header">button 52</button>   
  <button id='50' class="recent_post_header">button 50</button>   
</div> -->
<form class="ui segment form" action="/happyday_regist" method="post">
  <h3 class="ui left floated header">HappyDay Regist Page</h3>
  <div class="ui clearing divider"></div>
	<div class="content">
	  <div class="field">
  	  <div class="ui sub header">해피데이 이름</div>
  			<input type="text" id="happyday_name_show" name="happyday_name">
  	</div> 
  
	  <div class="field">
      <div class="ui sub header">카테고리</div>
      <div class="ui fluid multiple search selection dropdown">
        <!--<input name="category_code" type="hidden" value="">-->
        <input name="category_code" type="hidden" value="1">
        <i class="dropdown icon"  ></i>
      <!--<div class="default text" id="happyday_category_show" ></div>-->
      <div class="default text" ></div>
      <div class="menu" >
        <div class="item" data-value="1">스포츠</div>
        <div class="item" data-value="2">관람</div>
        <div class="item" data-value="3">영화</div>
        <div class="item" data-value="4">야외활동</div>
        <div class="item" data-value="5">실내활동</div>
        <div class="item" data-value="6">투어</div>
        <div class="item" data-value="7">체험</div>
      </div>
      </div><!-- multiple search selection dropdown -->
    </div>
    
    
    
    <div class="field">
      <div class="ui sub header">이미지 링크</div>
      <div class="ui labeled input">
        <div class="ui label">
          http://
        </div>
        <input type="text" placeholder="mysite.com" name="img_url" id="img_url_show">
      </div>
    </div>
   
    <div class="field">
      <div class="ui sub header">장소</div>	
    	<div class="ui right labeled left icon action input"><!-- action?? -->
    		<i class="marker icon"></i>
    		<input type="text" placeholder="Search the location" id="location" name="place_name">
    		<!--<i class="inverted circular search link icon"></i>-->
    		<div class="ui label"><i class="search icon"></i></div>
      </div><!-- location -->
    </div>
  
    <div class="ui two column grid">
    <div class="column">
      <div class="ui sub header">Start Date</div>
      <div class="ui calendar" name="example2">
        <div class="ui input left icon" style=" width: 100%;"> 
          <i class="calendar icon"></i>
          <input type="text" placeholder="Check the calendar" style=" width: 100%;" name="happyday_dt">
        </div>
      </div><!-- calendar -->
    </div>
    <div class="column">
      <div class="ui sub header">Start Time</div>
      <div class="ui calendar" id="example3">
        <div class="ui input left icon" style=" width: 100%;">
          <i class="time icon"></i>
          <input type="text" placeholder="Time" style=" width: 100%;" name="happyday_time">
        </div>
      </div> 
    </div>
    </div><!-- ui two column grid -->
    
    <div class="ui two column grid">
    <div class="column">
      <div class="ui sub header">출발 날짜 & 시간</div>
      <div class="ui calendar" id="hddate">
        <div class="ui input left icon" style=" width: 100%;"> 
          <i class="calendar icon"></i>
          <input type="text" placeholder="Check the calendar" style=" width: 100%;" name="happyday_dt">
        </div>
      </div><!-- calendar -->
    </div>
    <div class="column">
      <div class="ui sub header">마감일</div>
      <div class="ui calendar" id="dday_dt">
        <div class="ui input left icon" style=" width: 100%;">
          <i class="calendar icon"></i>
          <input type="text" placeholder="Date" style=" width: 100%;" name="dday_dt">
        </div>
      </div>
    </div>
    </div><!-- ui two column grid -->
  
    <div class="ui two column grid">
      <div class="column">
        <div class="ui sub header">멤버수</div>
        <div style=" width: 100%;">
        <button class="circular ui icon button" id="a" value="5">
            05
        </button>
        <button class="circular ui icon button" id="a" value="6">
            06
        </button>
        <button class="circular ui icon button" id="a" value="7">
            07
        </button>
        <button class="circular ui icon button" id="a" value="8">
            08
        </button>
        <button class="circular ui icon button" id="a" value="9">
            09
        </button>
        </div>
      </div>
      <div class="column">
        <div class="ui pagination menu">
          <a class="item">
            01
          </a>
          <div class="disabled item">
            05
          </div>
          <a class="item">
            10
          </a>
          <a class="item">
            11
          </a>
          <a class="item active">
            12
          </a>
        </div><!--ui pagination menu-->
      </div>
    </div><!-- two columns -->
    
    <div class="field">
    	<div class="ui sub header">차감포인트</div>	
      <div class="ui left icon input" style=" width: 100%;">
      	<input type="text" placeholder="2500" style=" width: 100%;" name="req_point">
      	<i class="won icon"></i>
      </div><!-- point -->
    </div>
  
    <div class="field">
  	  <div class="ui sub header">해피데이 설명</div>	
  		<textarea style="width:100% ;height: 200px;" name="happyday_contents"></textarea>
    </div>
    <div class="ui error message"></div>
  </div><!-- content -->

  <div class="ui clearing divider"></div>
  <div class="actions">
    <div class="ui button" onClick=javascript:modalClose()>cancel</div>
    <button class="ui yellow submit button" id="submit" name="submit">regist</button>
  </div><!-- actions -->
</form>  

</div><!-- modal -->














</body>
</html>